<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pridi:wght@200;300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="../static/css/newitem.css">
</head>

<body>
    <script>
        const darkmode = localStorage.getItem('darkmode');
        if(darkmode === 'active') {
          document.body.classList.add('darkmode');
        } else {
          document.body.classList.remove('darkmode');
        }
    </script>
    <a href="{{ url_for('stockmenu') }}"> 
        <span class="material-icons reply-icon" style="font-size: 2rem;">arrow_back_ios_new</span>
    </a>
    <div class="mainbox">
        <div class="row">
            <span class="recName"></span>
            <span>New Item</span>
        </div>
        <div class="column">
            <form method="post" action="{{ url_for('newitem') }}" enctype="multipart/form-data">
                <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
                <div class="row align-center">
                    <img src="../static/ico/default_image.png" class="default-icon" id="preview-img">
                    <input type="file" name="file" accept="image/*" id="img-file" required>
                </div>
                <script>
                    const imgFile = document.getElementById('preview-img');
                    const inputBox = document.getElementById('img-file');

                    inputBox.addEventListener('change', function() {
                        const reader = new FileReader();
                        reader.addEventListener('load', function () {
                            imgFile.src = reader.result;
                        });
                        reader.readAsDataURL(this.files[0]);
                    });
                </script>
                <div class="row">
                    <input type="text" class="name-input input-box" name="getname" placeholder="Item name" required>
                </div>
                <div class="row">
                    <input type="text" class="cate-input input-box" name="getcate" placeholder="Category" required>
                    <input type="text" class="amount-input input-box" name="getamount" placeholder="Amount" required pattern="[0-9]{1,}">
                </div>
                <div class="row">
                    <textarea class="desc-input input-box" rows="4" cols="50" name="getdes" placeholder="Description"></textarea>
                </div>
                <div class="row">
                    <button class="confirm-button btm-btn" name="submit" value="confirm">Confirm</button>
                </div>
            </form>
        </div>
    </div>
</body>
</html>
