<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Admin requests</title>
    <link rel="stylesheet" href="../static/css/pendingadmin.css">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pridi:wght@200;300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <title>Admin Pending Page</title>
</head>
<body>
    <script>
        const darkmode = localStorage.getItem('darkmode');
        if(darkmode === 'active') {
          document.body.classList.add('darkmode');
        } else {
          document.body.classList.remove('darkmode');
        }
    </script>
    <div class="top-bar">
        <a href="{{ url_for('adminlist') }}">
            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3"><path d="M400-80 0-480l400-400 71 71-329 329 329 329-71 71Z"/></svg>
        </a>    
        <div class="center">
            <span class="center">Admin requests</span>
        </div>
    </div>
    <div class="mainbox">
        {% if users %}
            <ul>
                {% for user in users %}
                    <li>
                        {{ user.Fname }} {{ user.Lname }}
                        <form method="post" action="{{ url_for('pending_user') }}" style="display:inline;">
                            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
                            <input type="hidden" name="user_id" value="{{ user.UserID }}">
                            <button type="submit" name="action" value="accept" class="btn btn-accept">Accept</button>
                            <button type="submit" name="action" value="decline" class="btn btn-decline">Decline</button>
                        </form>
                    </li>
                {% endfor %}
            </ul>
            <form method="post" action="{{ url_for('pending_user') }}">
                <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
                <button type="submit" name="action" value="accept_all" class="btn btn-accept-all">Accept All</button>
            </form>
        {% else %}
            <p class="text">No pending users.</p>
        {% endif %}
    </div>
</body>
</html>